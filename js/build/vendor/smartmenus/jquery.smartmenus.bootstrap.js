!function(factory){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],factory):"object"==typeof module&&"object"==typeof module.exports?module.exports=factory(require("jquery")):factory(jQuery)}(function($){return $.extend($.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var $navbars=$("ul.navbar-nav:not([data-sm-skip])");$navbars.each(function(){function onInit(){$this.find("a.current").parent().addClass("active"),$this.find("a.has-submenu").each(function(){var $this=$(this);$this.is('[data-toggle="dropdown"]')&&$this.dataSM("bs-data-toggle-dropdown",!0).removeAttr("data-toggle"),$this.is('[role="button"]')&&$this.dataSM("bs-role-button",!0).removeAttr("role")})}function onBeforeDestroy(){$this.find("a.current").parent().removeClass("active"),$this.find("a.has-submenu").each(function(){var $this=$(this);$this.dataSM("bs-data-toggle-dropdown")&&$this.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown"),$this.dataSM("bs-role-button")&&$this.attr("role","button").removeDataSM("bs-role-button")})}function detectCollapsible(force){var newW=obj.getViewportWidth();if(newW!=winW||force){var $carets=$this.find(".caret");obj.isCollapsible()?($this.addClass("sm-collapsible"),$this.is("[data-sm-skip-collapsible-behavior]")||$carets.addClass("navbar-toggle sub-arrow")):($this.removeClass("sm-collapsible"),$this.is("[data-sm-skip-collapsible-behavior]")||$carets.removeClass("navbar-toggle sub-arrow")),winW=newW}}var $this=$(this),obj=$this.data("smartmenus");if(!obj){$this.smartmenus({subMenusSubOffsetX:0,subMenusSubOffsetY:0,subIndicators:!1,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:$this.hasClass("navbar-right"),bottomToTopSubMenus:$this.closest(".navbar").hasClass("navbar-fixed-bottom")}).bind({"show.smapi":function(e,menu){var $menu=$(menu),$scrollArrows=$menu.dataSM("scroll-arrows");$scrollArrows&&$scrollArrows.css("background-color",$(document.body).css("background-color")),$menu.parent().addClass("open")},"hide.smapi":function(e,menu){$(menu).parent().removeClass("open")}}),onInit(),obj=$this.data("smartmenus"),obj.isCollapsible=function(){return!/^(left|right)$/.test(this.$firstLink.parent().css("float"))},obj.refresh=function(){$.SmartMenus.prototype.refresh.call(this),onInit(),detectCollapsible(!0)},obj.destroy=function(refresh){onBeforeDestroy(),$.SmartMenus.prototype.destroy.call(this,refresh)},$this.is("[data-sm-skip-collapsible-behavior]")&&$this.bind({"click.smapi":function(e,item){if(obj.isCollapsible()){var $item=$(item),$sub=$item.parent().dataSM("sub");if($sub&&$sub.dataSM("shown-before")&&$sub.is(":visible"))return obj.itemActivate($item),obj.menuHide($sub),!1}}});var winW;detectCollapsible(),$(window).bind("resize.smartmenus"+obj.rootId,detectCollapsible)}}),$navbars.length&&!$.SmartMenus.Bootstrap.keydownFix&&($(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),$.fn.dropdown&&$.fn.dropdown.Constructor&&$(document).on("keydown.bs.dropdown.data-api",'.dropdown-menu:not([id^="sm-"])',$.fn.dropdown.Constructor.prototype.keydown),$.SmartMenus.Bootstrap.keydownFix=!0)}}),$($.SmartMenus.Bootstrap.init),$});